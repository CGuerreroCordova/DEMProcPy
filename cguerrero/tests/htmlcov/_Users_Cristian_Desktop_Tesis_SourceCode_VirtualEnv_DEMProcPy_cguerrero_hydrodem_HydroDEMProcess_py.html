<!DOCTYPE html>
<html>
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">


    <meta content="IE=emulateIE7" http-equiv="X-UA-Compatible"/>
    <title>Coverage for
        C:\Users\Cristian\Desktop\Tesis\SourceCode\VirtualEnv\DEMProcPy\cguerrero\hydrodem\HydroDEMProcess.py:
        97%</title>
    <link href="style.css" rel="stylesheet" type="text/css">

    <script src="jquery.min.js" type="text/javascript"></script>
    <script src="jquery.hotkeys.js" type="text/javascript"></script>
    <script src="jquery.isonscreen.js" type="text/javascript"></script>
    <script src="coverage_html.js" type="text/javascript"></script>
    <script type="text/javascript">
        jQuery(document).ready(coverage.pyfile_ready);

    </script>
</head>
<body class="pyfile">

<div id="header">
    <div class="content">
        <h1>Coverage for <b>C:\Users\Cristian\Desktop\Tesis\SourceCode\VirtualEnv\DEMProcPy\cguerrero\hydrodem\HydroDEMProcess.py</b>
            :
            <span class="pc_cov">97%</span>
        </h1>

        <img alt="Show keyboard shortcuts" id="keyboard_icon"
             src="keybd_closed.png"/>

        <h2 class="stats">
            76 statements &nbsp;
            <span class="run hide_run shortkey_r button_toggle_run">74 run</span>
            <span class="mis shortkey_m button_toggle_mis">2 missing</span>
            <span class="exc shortkey_x button_toggle_exc">0 excluded</span>


        </h2>
    </div>
</div>

<div class="help_panel">
    <img alt="Hide keyboard shortcuts" id="panel_icon" src="keybd_open.png"/>
    <p class="legend">Hot-keys on this page</p>
    <div>
        <p class="keyhelp">
            <span class="key">r</span>
            <span class="key">m</span>
            <span class="key">x</span>
            <span class="key">p</span> &nbsp; toggle line displays
        </p>
        <p class="keyhelp">
            <span class="key">j</span>
            <span class="key">k</span> &nbsp; next/prev highlighted chunk
        </p>
        <p class="keyhelp">
            <span class="key">0</span> &nbsp; (zero) top of page
        </p>
        <p class="keyhelp">
            <span class="key">1</span> &nbsp; (one) first highlighted chunk
        </p>
    </div>
</div>

<div id="source">
    <table>
        <tr>
            <td class="linenos">
                <p class="stm run hide_run" id="n1"><a href="#n1">1</a></p>
                <p class="stm run hide_run" id="n2"><a href="#n2">2</a></p>
                <p class="stm run hide_run" id="n3"><a href="#n3">3</a></p>
                <p class="stm run hide_run" id="n4"><a href="#n4">4</a></p>
                <p class="stm run hide_run" id="n5"><a href="#n5">5</a></p>
                <p class="stm run hide_run" id="n6"><a href="#n6">6</a></p>
                <p class="pln" id="n7"><a href="#n7">7</a></p>
                <p class="stm run hide_run" id="n8"><a href="#n8">8</a></p>
                <p class="stm run hide_run" id="n9"><a href="#n9">9</a></p>
                <p class="stm run hide_run" id="n10"><a href="#n10">10</a></p>
                <p class="stm run hide_run" id="n11"><a href="#n11">11</a></p>
                <p class="stm run hide_run" id="n12"><a href="#n12">12</a></p>
                <p class="stm run hide_run" id="n13"><a href="#n13">13</a></p>
                <p class="pln" id="n14"><a href="#n14">14</a></p>
                <p class="pln" id="n15"><a href="#n15">15</a></p>
                <p class="pln" id="n16"><a href="#n16">16</a></p>
                <p class="pln" id="n17"><a href="#n17">17</a></p>
                <p class="pln" id="n18"><a href="#n18">18</a></p>
                <p class="pln" id="n19"><a href="#n19">19</a></p>
                <p class="pln" id="n20"><a href="#n20">20</a></p>
                <p class="pln" id="n21"><a href="#n21">21</a></p>
                <p class="stm run hide_run" id="n22"><a href="#n22">22</a></p>
                <p class="pln" id="n23"><a href="#n23">23</a></p>
                <p class="stm run hide_run" id="n24"><a href="#n24">24</a></p>
                <p class="pln" id="n25"><a href="#n25">25</a></p>
                <p class="pln" id="n26"><a href="#n26">26</a></p>
                <p class="pln" id="n27"><a href="#n27">27</a></p>
                <p class="stm run hide_run" id="n28"><a href="#n28">28</a></p>
                <p class="pln" id="n29"><a href="#n29">29</a></p>
                <p class="stm run hide_run" id="n30"><a href="#n30">30</a></p>
                <p class="pln" id="n31"><a href="#n31">31</a></p>
                <p class="pln" id="n32"><a href="#n32">32</a></p>
                <p class="pln" id="n33"><a href="#n33">33</a></p>
                <p class="pln" id="n34"><a href="#n34">34</a></p>
                <p class="pln" id="n35"><a href="#n35">35</a></p>
                <p class="stm run hide_run" id="n36"><a href="#n36">36</a></p>
                <p class="stm run hide_run" id="n37"><a href="#n37">37</a></p>
                <p class="stm run hide_run" id="n38"><a href="#n38">38</a></p>
                <p class="stm run hide_run" id="n39"><a href="#n39">39</a></p>
                <p class="stm run hide_run" id="n40"><a href="#n40">40</a></p>
                <p class="pln" id="n41"><a href="#n41">41</a></p>
                <p class="pln" id="n42"><a href="#n42">42</a></p>
                <p class="stm run hide_run" id="n43"><a href="#n43">43</a></p>
                <p class="stm run hide_run" id="n44"><a href="#n44">44</a></p>
                <p class="stm run hide_run" id="n45"><a href="#n45">45</a></p>
                <p class="stm run hide_run" id="n46"><a href="#n46">46</a></p>
                <p class="pln" id="n47"><a href="#n47">47</a></p>
                <p class="stm run hide_run" id="n48"><a href="#n48">48</a></p>
                <p class="stm run hide_run" id="n49"><a href="#n49">49</a></p>
                <p class="stm run hide_run" id="n50"><a href="#n50">50</a></p>
                <p class="stm mis" id="n51"><a href="#n51">51</a></p>
                <p class="stm mis" id="n52"><a href="#n52">52</a></p>
                <p class="stm run hide_run" id="n53"><a href="#n53">53</a></p>
                <p class="stm run hide_run" id="n54"><a href="#n54">54</a></p>
                <p class="stm run hide_run" id="n55"><a href="#n55">55</a></p>
                <p class="pln" id="n56"><a href="#n56">56</a></p>
                <p class="stm run hide_run" id="n57"><a href="#n57">57</a></p>
                <p class="stm run hide_run" id="n58"><a href="#n58">58</a></p>
                <p class="pln" id="n59"><a href="#n59">59</a></p>
                <p class="stm run hide_run" id="n60"><a href="#n60">60</a></p>
                <p class="stm run hide_run" id="n61"><a href="#n61">61</a></p>
                <p class="pln" id="n62"><a href="#n62">62</a></p>
                <p class="stm run hide_run" id="n63"><a href="#n63">63</a></p>
                <p class="stm run hide_run" id="n64"><a href="#n64">64</a></p>
                <p class="stm run hide_run" id="n65"><a href="#n65">65</a></p>
                <p class="stm run hide_run" id="n66"><a href="#n66">66</a></p>
                <p class="stm run hide_run" id="n67"><a href="#n67">67</a></p>
                <p class="stm run hide_run" id="n68"><a href="#n68">68</a></p>
                <p class="stm run hide_run" id="n69"><a href="#n69">69</a></p>
                <p class="stm run hide_run" id="n70"><a href="#n70">70</a></p>
                <p class="stm run hide_run" id="n71"><a href="#n71">71</a></p>
                <p class="stm run hide_run" id="n72"><a href="#n72">72</a></p>
                <p class="stm run hide_run" id="n73"><a href="#n73">73</a></p>
                <p class="stm run hide_run" id="n74"><a href="#n74">74</a></p>
                <p class="stm run hide_run" id="n75"><a href="#n75">75</a></p>
                <p class="stm run hide_run" id="n76"><a href="#n76">76</a></p>
                <p class="stm run hide_run" id="n77"><a href="#n77">77</a></p>
                <p class="stm run hide_run" id="n78"><a href="#n78">78</a></p>
                <p class="stm run hide_run" id="n79"><a href="#n79">79</a></p>
                <p class="stm run hide_run" id="n80"><a href="#n80">80</a></p>
                <p class="pln" id="n81"><a href="#n81">81</a></p>
                <p class="stm run hide_run" id="n82"><a href="#n82">82</a></p>
                <p class="pln" id="n83"><a href="#n83">83</a></p>
                <p class="pln" id="n84"><a href="#n84">84</a></p>
                <p class="stm run hide_run" id="n85"><a href="#n85">85</a></p>
                <p class="stm run hide_run" id="n86"><a href="#n86">86</a></p>
                <p class="pln" id="n87"><a href="#n87">87</a></p>
                <p class="stm run hide_run" id="n88"><a href="#n88">88</a></p>
                <p class="stm run hide_run" id="n89"><a href="#n89">89</a></p>
                <p class="stm run hide_run" id="n90"><a href="#n90">90</a></p>
                <p class="stm run hide_run" id="n91"><a href="#n91">91</a></p>
                <p class="stm run hide_run" id="n92"><a href="#n92">92</a></p>
                <p class="stm run hide_run" id="n93"><a href="#n93">93</a></p>
                <p class="pln" id="n94"><a href="#n94">94</a></p>
                <p class="stm run hide_run" id="n95"><a href="#n95">95</a></p>
                <p class="stm run hide_run" id="n96"><a href="#n96">96</a></p>
                <p class="stm run hide_run" id="n97"><a href="#n97">97</a></p>
                <p class="pln" id="n98"><a href="#n98">98</a></p>
                <p class="stm run hide_run" id="n99"><a href="#n99">99</a></p>
                <p class="stm run hide_run" id="n100"><a href="#n100">100</a>
                </p>
                <p class="stm run hide_run" id="n101"><a href="#n101">101</a>
                </p>
                <p class="stm run hide_run" id="n102"><a href="#n102">102</a>
                </p>
                <p class="stm run hide_run" id="n103"><a href="#n103">103</a>
                </p>
                <p class="stm run hide_run" id="n104"><a href="#n104">104</a>
                </p>
                <p class="stm run hide_run" id="n105"><a href="#n105">105</a>
                </p>
                <p class="stm run hide_run" id="n106"><a href="#n106">106</a>
                </p>
                <p class="pln" id="n107"><a href="#n107">107</a></p>
                <p class="stm run hide_run" id="n108"><a href="#n108">108</a>
                </p>

            </td>
            <td class="text">
                <p class="stm run hide_run" id="t1"><span class="nam">__author__</span>
                    <span class="op">=</span> <span class="str">"Cristian Guerrero Cordova"</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t2"><span class="nam">__copyright__</span>
                    <span class="op">=</span> <span class="str">"Copyright 2018"</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t3"><span class="nam">__credits__</span>
                    <span class="op">=</span> <span class="op">[</span><span
                            class="str">"Cristian Guerrero Cordova"</span><span
                            class="op">]</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t4"><span class="nam">__version__</span>
                    <span class="op">=</span> <span
                            class="str">"0.1"</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t5"><span
                        class="nam">__email__</span> <span class="op">=</span>
                    <span class="str">"cguerrerocordova@gmail.com"</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t6"><span class="nam">__status__</span>
                    <span class="op">=</span> <span
                            class="str">"Developing"</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t7"><span class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t8"><span
                        class="key">import</span> <span
                        class="nam">os</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t9"><span
                        class="key">import</span> <span
                        class="nam">numpy</span> <span class="key">as</span>
                    <span class="nam">np</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t10"><span
                        class="key">from</span> <span class="nam">osgeo</span>
                    <span class="key">import</span> <span
                            class="nam">gdal</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t11"><span
                        class="key">from</span> <span class="nam">scipy</span>
                    <span class="key">import</span> <span
                            class="nam">ndimage</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t12"><span
                        class="key">import</span> <span
                        class="nam">utilsDEM</span> <span class="key">as</span>
                    <span class="nam">utDEM</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t13"><span
                        class="key">from</span> <span
                        class="nam">settings</span> <span
                        class="key">import</span> <span
                        class="op">(</span><span
                        class="nam">RIVERS_ZIP</span><span class="op">,</span>
                    <span class="nam">HSHEDS_FILE_INPUT_ZIP</span><span
                            class="op">,</span> <span class="nam">GDAL_TRANSLATE</span><span
                            class="op">,</span><span
                            class="strut">&nbsp;</span></p>
                <p class="pln" id="t14"><span
                        class="nam">HSHEDS_FILE_INPUT</span><span
                        class="op">,</span> <span
                        class="nam">HSHEDS_FILE_TIFF</span><span
                        class="op">,</span> <span class="nam">SRTM_FILE_INPUT_ZIP</span><span
                        class="op">,</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t15"><span
                        class="nam">SRTM_FILE_INPUT</span><span
                        class="op">,</span> <span class="nam">SHAPE_AREA_INTEREST_INPUT</span><span
                        class="op">,</span> <span
                        class="nam">DEM_TEMP</span><span
                        class="op">,</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t16"><span class="nam">SHAPE_AREA_INTEREST_OVER</span><span
                        class="op">,</span> <span class="nam">TREE_CLASS_INPUT_ZIP</span><span
                        class="op">,</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t17"><span
                        class="nam">TREE_CLASS_INPUT</span><span
                        class="op">,</span> <span
                        class="nam">TREE_CLASS_AREA</span><span
                        class="op">,</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t18"><span class="nam">SRTM_AREA_INTEREST_OVER</span><span
                        class="op">,</span> <span class="nam">HSHEDS_AREA_INTEREST_OVER</span><span
                        class="op">,</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t19"><span
                        class="nam">RIVERS_FULL</span><span class="op">,</span>
                    <span class="nam">RIVERS_SHAPE</span><span
                            class="op">,</span> <span
                            class="nam">FINAL_DEM</span><span
                            class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="pln" id="t20"><span class="strut">&nbsp;</span></p>
                <p class="pln" id="t21"><span class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t22"><span
                        class="key">class</span> <span class="nam">HydroDEMProcess</span><span
                        class="op">(</span><span class="nam">object</span><span
                        class="op">)</span><span class="op">:</span><span
                        class="strut">&nbsp;</span></p>
                <p class="pln" id="t23"><span class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t24"><span
                        class="key">def</span> <span
                        class="nam">__init__</span><span
                        class="op">(</span><span class="nam">self</span><span
                        class="op">)</span><span class="op">:</span><span
                        class="strut">&nbsp;</span></p>
                <p class="pln" id="t25"><span class="str">"""</span><span
                        class="strut">&nbsp;</span></p>
                <p class="pln" id="t26"><span class="str">        class constructor</span><span
                        class="strut">&nbsp;</span></p>
                <p class="pln" id="t27"><span
                        class="str">        """</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t28"><span
                        class="key">pass</span><span
                        class="strut">&nbsp;</span></p>
                <p class="pln" id="t29"><span class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t30"><span
                        class="key">def</span> <span
                        class="nam">start</span><span class="op">(</span><span
                        class="nam">self</span><span class="op">)</span><span
                        class="op">:</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t31"><span class="str">"""</span><span
                        class="strut">&nbsp;</span></p>
                <p class="pln" id="t32"><span class="str">        starts Report generation</span><span
                        class="strut">&nbsp;</span></p>
                <p class="pln" id="t33"><span class="str">        :param cmd_line: unix command line</span><span
                        class="strut">&nbsp;</span></p>
                <p class="pln" id="t34"><span class="str">        :type cmd_line: list[str]</span><span
                        class="strut">&nbsp;</span></p>
                <p class="pln" id="t35"><span
                        class="str">        """</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t36"><span
                        class="key">print</span> <span class="str">"Cleaning Workspace"</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t37"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">clean_workspace</span><span
                        class="op">(</span><span class="op">)</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t38"><span
                        class="key">print</span> <span class="str">"Converting HSHEDS ADF to TIF file."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t39"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">uncompress_zip_file</span><span class="op">(</span><span
                        class="nam">HSHEDS_FILE_INPUT_ZIP</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t40"><span class="nam">adf_to_tif_command</span>
                    <span class="op">=</span> <span class="xx">\</span><span
                            class="strut">&nbsp;</span></p>
                <p class="pln" id="t41"><span class="nam">GDAL_TRANSLATE</span>
                    <span class="op">+</span> <span class="str">" "</span>
                    <span class="op">+</span> <span class="nam">HSHEDS_FILE_INPUT</span>
                    <span class="op">+</span> <span
                            class="str">" -of GTIFF "</span> <span
                            class="op">+</span> <span class="xx">\</span><span
                            class="strut">&nbsp;</span></p>
                <p class="pln" id="t42"><span
                        class="nam">HSHEDS_FILE_TIFF</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t43"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">calling_system_call</span><span class="op">(</span><span
                        class="nam">adf_to_tif_command</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t44"><span
                        class="key">print</span> <span class="str">"Getting shape file covering area of interest."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t45"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">uncompress_zip_file</span><span class="op">(</span><span
                        class="nam">SRTM_FILE_INPUT_ZIP</span><span class="op">)</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t46"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">resample_and_cut</span><span
                        class="op">(</span><span
                        class="nam">SRTM_FILE_INPUT</span><span
                        class="op">,</span> <span class="nam">SHAPE_AREA_INTEREST_INPUT</span><span
                        class="op">,</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t47"><span class="nam">DEM_TEMP</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t48"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">get_shape_over_area</span><span class="op">(</span><span
                        class="nam">DEM_TEMP</span><span class="op">,</span>
                    <span class="nam">SHAPE_AREA_INTEREST_OVER</span><span
                            class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t49"><span
                        class="key">try</span><span class="op">:</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t50"><span
                        class="nam">os</span><span class="op">.</span><span
                        class="nam">remove</span><span class="op">(</span><span
                        class="nam">DEM_TEMP</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm mis" id="t51"><span class="key">except</span>
                    <span class="nam">OSError</span><span
                            class="op">:</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm mis" id="t52"><span class="key">pass</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t53"><span
                        class="key">print</span> <span class="str">"Resampling and cutting TREE file."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t54"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">uncompress_zip_file</span><span class="op">(</span><span
                        class="nam">TREE_CLASS_INPUT_ZIP</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t55"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">resample_and_cut</span><span
                        class="op">(</span><span
                        class="nam">TREE_CLASS_INPUT</span><span
                        class="op">,</span> <span class="nam">SHAPE_AREA_INTEREST_OVER</span><span
                        class="op">,</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t56"><span
                        class="nam">TREE_CLASS_AREA</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t57"><span
                        class="key">print</span> <span class="str">"Resampling and cutting SRTM file."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t58"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">resample_and_cut</span><span
                        class="op">(</span><span
                        class="nam">SRTM_FILE_INPUT</span><span
                        class="op">,</span> <span class="nam">SHAPE_AREA_INTEREST_OVER</span><span
                        class="op">,</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t59"><span class="nam">SRTM_AREA_INTEREST_OVER</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t60"><span
                        class="key">print</span> <span class="str">"Resampling and cutting HSHEDS file."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t61"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">resample_and_cut</span><span
                        class="op">(</span><span
                        class="nam">HSHEDS_FILE_TIFF</span><span
                        class="op">,</span> <span class="nam">SHAPE_AREA_INTEREST_OVER</span><span
                        class="op">,</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t62"><span class="nam">HSHEDS_AREA_INTEREST_OVER</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t63"><span
                        class="key">print</span> <span class="str">"Detecting and applying Fourier"</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t64"><span class="nam">srtm_fourier</span>
                    <span class="op">=</span> <span
                            class="nam">utDEM</span><span
                            class="op">.</span><span class="nam">detect_apply_fourier</span><span
                            class="op">(</span><span class="nam">SRTM_AREA_INTEREST_OVER</span><span
                            class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t65"><span
                        class="key">print</span> <span class="str">"Processing SRTM."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t66"><span
                        class="key">print</span> <span class="str">"Processing SRTM: First Iteration."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t67"><span class="nam">srtm_proc1</span>
                    <span class="op">=</span> <span
                            class="nam">utDEM</span><span
                            class="op">.</span><span
                            class="nam">process_srtm</span><span
                            class="op">(</span><span
                            class="nam">srtm_fourier</span><span
                            class="op">,</span> <span class="nam">TREE_CLASS_AREA</span><span
                            class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t68"><span
                        class="key">print</span> <span class="str">"Processing SRTM: Second Iteration."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t69"><span class="nam">srtm_proc2</span>
                    <span class="op">=</span> <span
                            class="nam">utDEM</span><span
                            class="op">.</span><span
                            class="nam">process_srtm</span><span
                            class="op">(</span><span
                            class="nam">srtm_proc1</span><span
                            class="op">,</span> <span class="nam">TREE_CLASS_AREA</span><span
                            class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t70"><span
                        class="key">print</span> <span class="str">"Processing SRTM: Third Iteration."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t71"><span class="nam">srtm_proc</span>
                    <span class="op">=</span> <span
                            class="nam">utDEM</span><span
                            class="op">.</span><span
                            class="nam">process_srtm</span><span
                            class="op">(</span><span
                            class="nam">srtm_proc2</span><span
                            class="op">,</span> <span class="nam">TREE_CLASS_AREA</span><span
                            class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t72"><span
                        class="key">print</span> <span class="str">"Processing HSHEDS."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t73"><span class="nam">hydro_sheds</span>
                    <span class="op">=</span> <span
                            class="nam">gdal</span><span
                            class="op">.</span><span
                            class="nam">Open</span><span
                            class="op">(</span><span class="nam">HSHEDS_AREA_INTEREST_OVER</span><span
                            class="op">)</span><span class="op">.</span><span
                            class="nam">ReadAsArray</span><span
                            class="op">(</span><span class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t74"><span class="nam">hydro_sheds_corrected_nan</span>
                    <span class="op">=</span> <span
                            class="nam">utDEM</span><span
                            class="op">.</span><span class="nam">correct_nan_values</span><span
                            class="op">(</span><span
                            class="nam">hydro_sheds</span><span
                            class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t75"><span
                        class="key">print</span> <span class="str">"Processing HSHEDS: Getting Lagoons."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t76"><span class="nam">hsheds_mask_lagoons_values</span>
                    <span class="op">=</span> <span
                            class="nam">utDEM</span><span
                            class="op">.</span><span class="nam">get_lagoons_hsheds</span><span
                            class="op">(</span><span
                            class="nam">hydro_sheds</span><span
                            class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t77"><span class="nam">hsheds_mask_lagoons</span>
                    <span class="op">=</span> <span class="op">(</span><span
                            class="nam">hsheds_mask_lagoons_values</span> <span
                            class="op">></span> <span
                            class="num">0.0</span><span class="op">)</span>
                    <span class="op">*</span> <span class="num">1</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t78"><span
                        class="key">print</span> <span class="str">"Processing Rivers."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t79"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">uncompress_zip_file</span><span class="op">(</span><span
                        class="nam">RIVERS_ZIP</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t80"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">clip_lines_vector</span><span
                        class="op">(</span><span class="nam">RIVERS_FULL</span><span
                        class="op">,</span> <span class="nam">SHAPE_AREA_INTEREST_OVER</span><span
                        class="op">,</span><span class="strut">&nbsp;</span>
                </p>
                <p class="pln" id="t81"><span
                        class="nam">RIVERS_SHAPE</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t82"><span class="nam">rivers_routed_closing</span>
                    <span class="op">=</span> <span
                            class="nam">utDEM</span><span
                            class="op">.</span><span
                            class="nam">process_rivers</span><span
                            class="op">(</span><span class="nam">hydro_sheds_corrected_nan</span><span
                            class="op">,</span><span
                            class="strut">&nbsp;</span></p>
                <p class="pln" id="t83"><span
                        class="nam">hsheds_mask_lagoons</span><span class="op">,</span><span
                        class="strut">&nbsp;</span></p>
                <p class="pln" id="t84"><span
                        class="nam">RIVERS_SHAPE</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t85"><span
                        class="key">print</span> <span class="str">"Getting terms for final merging."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t86"><span class="nam">first_term_hsheds_canyons</span>
                    <span class="op">=</span> <span class="nam">hydro_sheds_corrected_nan</span>
                    <span class="op">*</span> <span class="xx">\</span><span
                            class="strut">&nbsp;</span></p>
                <p class="pln" id="t87"><span
                        class="nam">rivers_routed_closing</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t88"><span class="nam">snd_term_hsheds_lagoons</span>
                    <span class="op">=</span> <span class="nam">hsheds_mask_lagoons_values</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t89"><span class="nam">mask_canyons_lagoons</span>
                    <span class="op">=</span> <span class="nam">rivers_routed_closing</span>
                    <span class="op">+</span> <span class="nam">hsheds_mask_lagoons</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t90"><span class="nam">not_mask_canyons_lagoons</span>
                    <span class="op">=</span> <span class="num">1</span> <span
                            class="op">-</span> <span class="nam">mask_canyons_lagoons</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t91"><span class="nam">trd_term_srtm_fourier_tree</span>
                    <span class="op">=</span> <span
                            class="nam">srtm_proc</span> <span
                            class="op">*</span> <span class="nam">not_mask_canyons_lagoons</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t92"><span
                        class="key">print</span> <span class="str">"Combining parts."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t93"><span class="nam">dem_ready</span>
                    <span class="op">=</span> <span class="nam">first_term_hsheds_canyons</span>
                    <span class="op">+</span> <span class="nam">snd_term_hsheds_lagoons</span>
                    <span class="op">+</span> <span class="xx">\</span><span
                            class="strut">&nbsp;</span></p>
                <p class="pln" id="t94"><span class="nam">trd_term_srtm_fourier_tree</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t95"><span
                        class="key">print</span> <span class="str">"Applying final convolve filter."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t96"><span
                        class="nam">kernel</span> <span class="op">=</span>
                    <span class="nam">np</span><span class="op">.</span><span
                            class="nam">ones</span><span
                            class="op">(</span><span class="op">(</span><span
                            class="num">3</span><span class="op">,</span> <span
                            class="num">3</span><span class="op">)</span><span
                            class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t97"><span class="nam">dem_ready_convolve</span>
                    <span class="op">=</span> <span
                            class="nam">ndimage</span><span class="op">.</span><span
                            class="nam">convolve</span><span
                            class="op">(</span><span class="nam">np</span><span
                            class="op">.</span><span
                            class="nam">abs</span><span
                            class="op">(</span><span
                            class="nam">dem_ready</span><span
                            class="op">)</span><span class="op">,</span><span
                            class="strut">&nbsp;</span></p>
                <p class="pln" id="t98"><span class="nam">weights</span><span
                        class="op">=</span><span class="nam">kernel</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t99"><span class="nam">dem_ready_smooth</span>
                    <span class="op">=</span> <span class="nam">dem_ready_convolve</span>
                    <span class="op">/</span> <span
                            class="nam">kernel</span><span
                            class="op">.</span><span
                            class="nam">size</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t100"><span
                        class="key">print</span> <span class="str">"Around values."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t101"><span class="nam">final_dem</span>
                    <span class="op">=</span> <span class="nam">np</span><span
                            class="op">.</span><span
                            class="nam">around</span><span
                            class="op">(</span><span class="nam">dem_ready_smooth</span><span
                            class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t102"><span
                        class="key">print</span> <span class="str">"DEM Hydrologicaly conditioned ready."</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t103"><span
                        class="key">print</span> <span class="str">"DEM Ready to use can be found at {}."</span><span
                        class="op">.</span><span class="nam">format</span><span
                        class="op">(</span><span
                        class="nam">FINAL_DEM</span><span
                        class="op">)</span><span class="strut">&nbsp;</span>
                </p>
                <p class="stm run hide_run" id="t104"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">array2raster</span><span
                        class="op">(</span><span class="nam">SRTM_AREA_INTEREST_OVER</span><span
                        class="op">,</span> <span
                        class="nam">FINAL_DEM</span><span class="op">,</span>
                    <span class="nam">final_dem</span><span class="op">)</span><span
                            class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t105"><span
                        class="key">print</span> <span class="str">"Cleaning Workspace"</span><span
                        class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t106"><span
                        class="nam">utDEM</span><span class="op">.</span><span
                        class="nam">clean_workspace</span><span
                        class="op">(</span><span class="op">)</span><span
                        class="strut">&nbsp;</span></p>
                <p class="pln" id="t107"><span class="strut">&nbsp;</span></p>
                <p class="stm run hide_run" id="t108"><span
                        class="key">return</span> <span
                        class="nam">final_dem</span><span
                        class="strut">&nbsp;</span></p>

            </td>
        </tr>
    </table>
</div>

<div id="footer">
    <div class="content">
        <p>
            <a class="nav" href="index.html">&#xab; index</a> &nbsp; &nbsp; <a
                class="nav" href="https://coverage.readthedocs.io">coverage.py
            v4.5.1</a>,
            created at 2019-07-28 21:17
        </p>
    </div>
</div>

</body>
</html>
